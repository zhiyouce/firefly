<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Fabric-Samples Test Network - Hyperledger FireFly Docs</title>

    
  

  <link rel="shortcut icon" href="/firefly/head/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/firefly/head/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/firefly/head/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/firefly/head/assets/js/just-the-docs.js"></script>

  <script type="text/javascript" src="/firefly/assets/js/versions.js" data-proofer-ignore></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>pages.fabric_test_network | Hyperledger FireFly Docs</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="pages.fabric_test_network" />
<meta property="og:locale" content="en" />
<meta name="description" content="Hyperledger FireFly is the first open source Supernode: a complete stack for enterprises to build and scale secure Web3 applications. The FireFly API for digital assets, data flows, and blockchain transactions makes it radically faster to build production-ready apps on popular chains and protocols." />
<meta property="og:description" content="Hyperledger FireFly is the first open source Supernode: a complete stack for enterprises to build and scale secure Web3 applications. The FireFly API for digital assets, data flows, and blockchain transactions makes it radically faster to build production-ready apps on popular chains and protocols." />
<meta property="og:site_name" content="Hyperledger FireFly Docs" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="pages.fabric_test_network" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Hyperledger FireFly is the first open source Supernode: a complete stack for enterprises to build and scale secure Web3 applications. The FireFly API for digital assets, data flows, and blockchain transactions makes it radically faster to build production-ready apps on popular chains and protocols.","headline":"pages.fabric_test_network","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/firefly/head/images/hyperledger-firefly_color.svg"}},"url":"/firefly/head/tutorials/chains/fabric_test_network.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="/firefly/head/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="/firefly/head/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/overview/" class="nav-list-link">Understanding FireFly</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/overview/supernode_concept.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item "><a href="/firefly/head/overview/usage_patterns.html" class="nav-list-link">Usage Patterns</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/overview/key_features.html" class="nav-list-link">Key Features</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/apps.html" class="nav-list-link">Apps</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/digital_assets.html" class="nav-list-link">Digital Assets</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/connectors.html" class="nav-list-link">Connector Framework</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/orchestration_engine.html" class="nav-list-link">Orchestration Engine</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/flows.html" class="nav-list-link">Flows</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/security.html" class="nav-list-link">Security</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/key_components/tools.html" class="nav-list-link">Tools</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/overview/gateway_features.html" class="nav-list-link">Web3 Gateway Features</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/overview/multiparty_features.html" class="nav-list-link">Multiparty Features</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/multiparty_flow.html" class="nav-list-link">Multiparty Process Flow</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/data_exchange.html" class="nav-list-link">Private Data Exchange</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/broadcast.html" class="nav-list-link">Broadcast data</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/overview/multiparty/deterministic.html" class="nav-list-link">Deterministic Compute</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/overview/public_vs_permissioned.html" class="nav-list-link">Public and Permissioned</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/gettingstarted/" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/gettingstarted/firefly_cli.html" class="nav-list-link">① Install the FireFly CLI</a></li><li class="nav-list-item "><a href="/firefly/head/gettingstarted/setup_env.html" class="nav-list-link">② Start your environment</a></li><li class="nav-list-item "><a href="/firefly/head/gettingstarted/sandbox.html" class="nav-list-link">③ Use the Sandbox</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/tutorials/broadcast_data.html" class="nav-list-link">Broadcast data</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/private_send.html" class="nav-list-link">Privately send data</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/define_datatype.html" class="nav-list-link">Define a datatype</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/events.html" class="nav-list-link">Listen for events</a></li><li class="nav-list-item "><a href="/firefly/head/tutorials/query_messages.html" class="nav-list-link">Explore messages</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/tokens/" class="nav-list-link">Use tokens</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/tokens/erc20.html" class="nav-list-link">ERC-20</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/tokens/erc721.html" class="nav-list-link">ERC-721</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/tokens/erc1155.html" class="nav-list-link">ERC-1155</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/custom_contracts/" class="nav-list-link">Work with custom smart contracts</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/custom_contracts/ethereum.html" class="nav-list-link">Ethereum</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/custom_contracts/fabric.html" class="nav-list-link">Fabric</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/custom_contracts/pinning.html" class="nav-list-link">Pinning Data</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/tutorials/create_custom_identity.html" class="nav-list-link">Create a custom identity</a></li><li class="nav-list-item  active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/tutorials/chains/" class="nav-list-link">Connect to remote blockchains</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/polygon_testnet.html" class="nav-list-link">Polygon Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/binance_smart_chain.html" class="nav-list-link">Binance Smartchain Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/avalanche.html" class="nav-list-link">Avalanche Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/arbitrum.html" class="nav-list-link">Arbitrum Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/optimism.html" class="nav-list-link">Optimism Testnet</a>
                  </li><li class="nav-list-item  active">
                    <a href="/firefly/head/tutorials/chains/fabric_test_network.html" class="nav-list-link active">Fabric-Samples Test Network</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/moonbeam.html" class="nav-list-link">Moonbeam Testnet</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/tutorials/chains/zksync_testnet.html" class="nav-list-link">zkSync Testnet</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/tutorials/basic_auth.html" class="nav-list-link">Enable basic auth</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/reference/" class="nav-list-link">Reference</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/reference/types/" class="nav-list-link">Core Resources</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/simpletypes.html" class="nav-list-link">Simple Types</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/event.html" class="nav-list-link">Event</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/subscription.html" class="nav-list-link">Subscription</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/contractapi.html" class="nav-list-link">ContractAPI</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/blockchainevent.html" class="nav-list-link">BlockchainEvent</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/transaction.html" class="nav-list-link">Transaction</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/operation.html" class="nav-list-link">Operation</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/operationwithdetail.html" class="nav-list-link">OperationWithDetail</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/ffi.html" class="nav-list-link">FFI</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/contractlistener.html" class="nav-list-link">ContractListener</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/tokenpool.html" class="nav-list-link">TokenPool</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/tokentransfer.html" class="nav-list-link">TokenTransfer</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/tokenapproval.html" class="nav-list-link">TokenApproval</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/identity.html" class="nav-list-link">Identity</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/verifier.html" class="nav-list-link">Verifier</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/message.html" class="nav-list-link">Message</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/data.html" class="nav-list-link">Data</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/datatype.html" class="nav-list-link">Datatype</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/group.html" class="nav-list-link">Group</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/nextpin.html" class="nav-list-link">NextPin</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/batch.html" class="nav-list-link">Batch</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/namespace.html" class="nav-list-link">Namespace</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/wsstart.html" class="nav-list-link">WSStart</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/wsack.html" class="nav-list-link">WSAck</a>
                  </li><li class="nav-list-item ">
                    <a href="/firefly/head/reference/types/wserror.html" class="nav-list-link">WSError</a>
                  </li></ul></li><li class="nav-list-item "><a href="/firefly/head/reference/config.html" class="nav-list-link">Configuration Reference</a></li><li class="nav-list-item "><a href="/firefly/head/reference/api_query_syntax.html" class="nav-list-link">API Query Syntax</a></li><li class="nav-list-item "><a href="/firefly/head/reference/api_post_syntax.html" class="nav-list-link">API Post Syntax</a></li><li class="nav-list-item "><a href="/firefly/head/reference/blockchain_operation_status.html" class="nav-list-link">Blockchain Operation Status</a></li><li class="nav-list-item "><a href="/firefly/head/reference/events.html" class="nav-list-link">Event Bus</a></li><li class="nav-list-item "><a href="/firefly/head/reference/identities.html" class="nav-list-link">Identities</a></li><li class="nav-list-item "><a href="/firefly/head/reference/firefly_interface_format.html" class="nav-list-link">FireFly Interface Format</a></li><li class="nav-list-item "><a href="/firefly/head/reference/namespaces.html" class="nav-list-link">Namespaces</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/reference/microservices/" class="nav-list-link">Microservices</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/firefly/head/reference/microservices/fftokens.html" class="nav-list-link">fftokens</a>
                  </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/architecture/" class="nav-list-link">Architecture</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/architecture/node_component_architecture.html" class="nav-list-link">Node Component Architecture</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/blockchain_connector_framework.html" class="nav-list-link">Blockchain Connector Toolkit</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/multiparty_event_sequencing.html" class="nav-list-link">Multiparty Event Sequencing</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/plugin_architecture.html" class="nav-list-link">Plugin Architecture</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/ping_pong_txflow.html" class="nav-list-link">Example Transaction Flow</a></li><li class="nav-list-item "><a href="/firefly/head/architecture/internal_event_sequencing.html" class="nav-list-link">Internal Event Sequencing</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/contributors/" class="nav-list-link">Contributors</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/contributors/code_overview.html" class="nav-list-link">FireFly Code Overview</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/code_hierarchy.html" class="nav-list-link">FireFly Code Hierarchy</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/code_repositories.html" class="nav-list-link">Code Repositories</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/dev_environment_setup.html" class="nav-list-link">Setting up a FireFly Core Development Environment</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/advanced_cli_usage.html" class="nav-list-link">Advanced CLI Usage</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/docs_setup.html" class="nav-list-link">Contributing to Documentation</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/version_scheme.html" class="nav-list-link">Versioning Scheme</a></li><li class="nav-list-item "><a href="/firefly/head/contributors/release_guide.html" class="nav-list-link">Release Guide</a></li></ul></li><li class="nav-list-item"><a href="/firefly/head/swagger/swagger.html" class="nav-list-link">API Spec</a></li><li class="nav-list-item"><a href="/firefly/head/faqs/" class="nav-list-link">FAQs</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/firefly/head/releasenotes/" class="nav-list-link">Release Notes</a><ul class="nav-list "><li class="nav-list-item "><a href="/firefly/head/releasenotes/1.2_migration_guide.html" class="nav-list-link">v1.2.0 Migration Guide</a></li><li class="nav-list-item "><a href="/firefly/head/releasenotes/1.1_migration_guide.html" class="nav-list-link">v1.1.0 Migration Guide</a></li></ul></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Hyperledger FireFly Docs" aria-label="Search Hyperledger FireFly Docs" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="https://github.com/hyperledger/firefly" class="site-button"
                  
                >
                  GitHub
                </a>
              </li>
            
              <li class="aux-nav-list-item">
                <a href="https://wiki.hyperledger.org/display/FIR" class="site-button"
                  
                >
                  Wiki
                </a>
              </li>
            
              <li class="aux-nav-list-item">
                <a href="https://discord.gg/hyperledger" class="site-button"
                  
                >
                  Discord
                </a>
              </li>
            
            <li class="aux-nav-list-item">
              <span class="dropdown">
                <a class="site-button">English
                </a>
                <div class="dropdown-content"></div>
              </span>
            </li>
            <li class="aux-nav-list-item">
              <span class="dropdown">
                <a class="site-button">
                  Version: head
                </a>
                <div class="dropdown-content" id="versionDropdown">
                </div>
              </span>
            </li>
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
              
              
                <li class="breadcrumb-nav-list-item"><a href="/firefly/head/tutorials/">Tutorials</a></li>
                <li class="breadcrumb-nav-list-item"><a href="/firefly/head/tutorials/chains/">Connect to remote blockchains</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Fabric-Samples Test Network</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 class="no_toc" id="work-with-fabric-samples-test-network">
        
        
          <a href="#work-with-fabric-samples-test-network" class="anchor-heading" aria-labelledby="work-with-fabric-samples-test-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Work with Fabric-Samples Test Network
        
        
      </h1>
    
      <h2 class="no_toc text-delta" id="table-of-contents">
        
        
          <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents
        
        
      </h2>
    

<ol id="markdown-toc">
  <li><a href="#previous-steps-install-the-firefly-cli" id="markdown-toc-previous-steps-install-the-firefly-cli">Previous steps: Install the FireFly CLI</a></li>
  <li><a href="#start-fabric-test-network-with-fabric-ca" id="markdown-toc-start-fabric-test-network-with-fabric-ca">Start Fabric Test Network with Fabric CA</a></li>
  <li><a href="#deploy-firefly-chaincode" id="markdown-toc-deploy-firefly-chaincode">Deploy FireFly Chaincode</a></li>
  <li><a href="#create-ccpyml-documents" id="markdown-toc-create-ccpyml-documents">Create <code class="language-plaintext highlighter-rouge">ccp.yml</code> documents</a>    <ol>
      <li><a href="#organization-1-connection-profile" id="markdown-toc-organization-1-connection-profile">Organization 1 connection profile</a></li>
      <li><a href="#organization-2-connection-profile" id="markdown-toc-organization-2-connection-profile">Organization 2 connection profile</a></li>
    </ol>
  </li>
  <li><a href="#create-the-firefly-stack" id="markdown-toc-create-the-firefly-stack">Create the FireFly stack</a></li>
  <li><a href="#edit-docker-composeoverrideyml" id="markdown-toc-edit-docker-composeoverrideyml">Edit <code class="language-plaintext highlighter-rouge">docker-compose.override.yml</code></a></li>
  <li><a href="#start-firefly-stack" id="markdown-toc-start-firefly-stack">Start FireFly stack</a></li>
  <li><a href="#connecting-to-a-remote-fabric-network" id="markdown-toc-connecting-to-a-remote-fabric-network">Connecting to a remote Fabric Network</a></li>
  <li><a href="#troubleshooting" id="markdown-toc-troubleshooting">Troubleshooting</a>    <ol>
      <li><a href="#no-such-host" id="markdown-toc-no-such-host">No such host</a></li>
      <li><a href="#no-such-file-or-directory" id="markdown-toc-no-such-file-or-directory">No such file or directory</a></li>
    </ol>
  </li>
</ol><hr />

<p>This guide will walk you through the steps to create a local FireFly development environment and connect it to the Fabric Test Network from the <a href="https://github.com/hyperledger/fabric-samples">Fabric Samples repo</a></p>
      <h2 id="previous-steps-install-the-firefly-cli">
        
        
          <a href="#previous-steps-install-the-firefly-cli" class="anchor-heading" aria-labelledby="previous-steps-install-the-firefly-cli"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Previous steps: Install the FireFly CLI
        
        
      </h2>
    
<p>If you haven’t set up the FireFly CLI already, please go back to the Getting Started guide and read the section on how to <a href="/firefly/head/gettingstarted/firefly_cli.html">Install the FireFly CLI</a>.</p>

<p><a href="/firefly/head/gettingstarted/firefly_cli.html" class="btn btn-purple mb-5">← ① Install the FireFly CLI</a></p>
      <h2 id="start-fabric-test-network-with-fabric-ca">
        
        
          <a href="#start-fabric-test-network-with-fabric-ca" class="anchor-heading" aria-labelledby="start-fabric-test-network-with-fabric-ca"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Start Fabric Test Network with Fabric CA
        
        
      </h2>
    

<p>For details about the Fabric Test Network and how to set it up, please see the <a href="https://github.com/hyperledger/fabric-samples/tree/main/test-network">Fabric Samples repo</a>. The one important detail is that you need to start up the Test Network with a Fabric CA. This is because Fabconnect will use the Fabric CA to create an identity for its FireFly node to use. To start up the network with the CA, and create a new channel called <code class="language-plaintext highlighter-rouge">mychannel</code> run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./network.sh up createChannel -ca
</code></pre></div></div>

<blockquote>
  <p><strong>NOTE</strong>: If you already have the Test Network running, you will need to bring it down first, by running: <code class="language-plaintext highlighter-rouge">./network.sh down</code></p>
</blockquote>
      <h2 id="deploy-firefly-chaincode">
        
        
          <a href="#deploy-firefly-chaincode" class="anchor-heading" aria-labelledby="deploy-firefly-chaincode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deploy FireFly Chaincode
        
        
      </h2>
    

<p>Next we will need to package and deploy the FireFly chaincode to <code class="language-plaintext highlighter-rouge">mychannel</code> in our new network. For more details on packaging and deploying chaincode, please see the <a href="https://hyperledger-fabric.readthedocs.io/en/latest/chaincode_lifecycle.html">Fabric chaincode lifecycle documentation</a>. If you already have the <a href="https://github.com/hyperledger/firefly">FireFly repo</a> cloned in the same directory as your <code class="language-plaintext highlighter-rouge">fabric-samples</code> repo, you can run the following script from your <code class="language-plaintext highlighter-rouge">test-network</code> directory:</p>

<blockquote>
  <p><strong>NOTE</strong>: This script is provided as a convenience only, and you are not required to use it. You are welcome to package and deploy the chaincode to your test-network any way you would like.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># This file should be run from the test-network directory in the fabric-samples repo</span>
<span class="c"># It also assumes that you have the firefly repo checked out at the same level as the fabric-samples directory</span>
<span class="c"># It also assumes that the test-network is up and running and a channel named 'mychannel' has already been created</span>

<span class="nb">cd</span> ../../firefly/smart_contracts/fabric/firefly-go
<span class="nv">GO111MODULE</span><span class="o">=</span>on go mod vendor
<span class="nb">cd</span> ../../../../fabric-samples/test-network

<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/../bin:<span class="nv">$PATH</span>
<span class="nb">export </span><span class="nv">FABRIC_CFG_PATH</span><span class="o">=</span><span class="nv">$PWD</span>/../config/

peer lifecycle chaincode package firefly.tar.gz <span class="nt">--path</span> ../../firefly/smart_contracts/fabric/firefly-go <span class="nt">--lang</span> golang <span class="nt">--label</span> firefly_1.0

<span class="nb">export </span><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true
export </span><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">"Org1MSP"</span>
<span class="nb">export </span><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
<span class="nb">export </span><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
<span class="nb">export </span><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>localhost:7051

peer lifecycle chaincode <span class="nb">install </span>firefly.tar.gz

<span class="nb">export </span><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">"Org2MSP"</span>
<span class="nb">export </span><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
<span class="nb">export </span><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
<span class="nb">export </span><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>localhost:9051

peer lifecycle chaincode <span class="nb">install </span>firefly.tar.gz

<span class="nb">export </span><span class="nv">CC_PACKAGE_ID</span><span class="o">=</span><span class="si">$(</span>peer lifecycle chaincode queryinstalled <span class="nt">--output</span> json | jq <span class="nt">--raw-output</span> <span class="s2">".installed_chaincodes[0].package_id"</span><span class="si">)</span>

peer lifecycle chaincode approveformyorg <span class="nt">-o</span> localhost:7050 <span class="nt">--ordererTLSHostnameOverride</span> orderer.example.com <span class="nt">--channelID</span> mychannel <span class="nt">--name</span> firefly <span class="nt">--version</span> 1.0 <span class="nt">--package-id</span> <span class="nv">$CC_PACKAGE_ID</span> <span class="nt">--sequence</span> 1 <span class="nt">--tls</span> <span class="nt">--cafile</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span><span class="s2">/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem"</span>

<span class="nb">export </span><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">"Org1MSP"</span>
<span class="nb">export </span><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
<span class="nb">export </span><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
<span class="nb">export </span><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>localhost:7051

peer lifecycle chaincode approveformyorg <span class="nt">-o</span> localhost:7050 <span class="nt">--ordererTLSHostnameOverride</span> orderer.example.com <span class="nt">--channelID</span> mychannel <span class="nt">--name</span> firefly <span class="nt">--version</span> 1.0 <span class="nt">--package-id</span> <span class="nv">$CC_PACKAGE_ID</span> <span class="nt">--sequence</span> 1 <span class="nt">--tls</span> <span class="nt">--cafile</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span><span class="s2">/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem"</span>

peer lifecycle chaincode commit <span class="nt">-o</span> localhost:7050 <span class="nt">--ordererTLSHostnameOverride</span> orderer.example.com <span class="nt">--channelID</span> mychannel <span class="nt">--name</span> firefly <span class="nt">--version</span> 1.0 <span class="nt">--sequence</span> 1 <span class="nt">--tls</span> <span class="nt">--cafile</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span><span class="s2">/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem"</span> <span class="nt">--peerAddresses</span> localhost:7051 <span class="nt">--tlsRootCertFiles</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span><span class="s2">/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt"</span> <span class="nt">--peerAddresses</span> localhost:9051 <span class="nt">--tlsRootCertFiles</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span><span class="s2">/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt"</span>
</code></pre></div></div>
      <h2 id="create-ccpyml-documents">
        
        
          <a href="#create-ccpyml-documents" class="anchor-heading" aria-labelledby="create-ccpyml-documents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create <code class="language-plaintext highlighter-rouge">ccp.yml</code> documents
        
        
      </h2>
    

<p>Each FireFly Supernode (specifically the Fabconnect instance in each) will need to know how to connect to the Fabric network. Fabconnect will use a <a href="https://hyperledger-fabric.readthedocs.io/en/release-2.2/developapps/connectionprofile.html">Fabric Connection Profile</a> which describes the network and tells it where the certs and keys are that it needs. Below is a <code class="language-plaintext highlighter-rouge">ccp.yml</code> for each organization. You will need to fill in one line by replacing the string <code class="language-plaintext highlighter-rouge">FILL_IN_KEY_NAME_HERE</code>, because the file name of the private key for each user is randomly generated.</p>
      <h3 id="organization-1-connection-profile">
        
        
          <a href="#organization-1-connection-profile" class="anchor-heading" aria-labelledby="organization-1-connection-profile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Organization 1 connection profile
        
        
      </h3>
    

<p>Create a new file at <code class="language-plaintext highlighter-rouge">~/org1_ccp.yml</code> with the contents below. Replace the string <code class="language-plaintext highlighter-rouge">FILL_IN_KEY_NAME_HERE</code> with the filename in your <code class="language-plaintext highlighter-rouge">fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/keystore</code> directory.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">certificateAuthorities</span><span class="pi">:</span>
    <span class="s">org1.example.com</span><span class="pi">:</span>
        <span class="na">tlsCACerts</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/msp/tlscacerts/ca.crt</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://ca_org1:7054</span>
        <span class="na">grpcOptions</span><span class="pi">:</span>
            <span class="na">ssl-target-name-override</span><span class="pi">:</span> <span class="s">org1.example.com</span>
        <span class="na">registrar</span><span class="pi">:</span>
            <span class="na">enrollId</span><span class="pi">:</span> <span class="s">admin</span>
            <span class="na">enrollSecret</span><span class="pi">:</span> <span class="s">adminpw</span>
<span class="na">channels</span><span class="pi">:</span>
    <span class="na">mychannel</span><span class="pi">:</span>
        <span class="na">orderers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">fabric_orderer</span>
        <span class="na">peers</span><span class="pi">:</span>
            <span class="na">fabric_peer</span><span class="pi">:</span>
                <span class="na">chaincodeQuery</span><span class="pi">:</span> <span class="no">true</span>
                <span class="na">endorsingPeer</span><span class="pi">:</span> <span class="no">true</span>
                <span class="na">eventSource</span><span class="pi">:</span> <span class="no">true</span>
                <span class="na">ledgerQuery</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">client</span><span class="pi">:</span>
    <span class="na">BCCSP</span><span class="pi">:</span>
        <span class="na">security</span><span class="pi">:</span>
            <span class="na">default</span><span class="pi">:</span>
                <span class="na">provider</span><span class="pi">:</span> <span class="s">SW</span>
            <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
            <span class="na">hashAlgorithm</span><span class="pi">:</span> <span class="s">SHA2</span>
            <span class="na">level</span><span class="pi">:</span> <span class="m">256</span>
            <span class="na">softVerify</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">credentialStore</span><span class="pi">:</span>
        <span class="na">cryptoStore</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/msp</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/msp</span>
    <span class="na">cryptoconfig</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/msp</span>
    <span class="na">logging</span><span class="pi">:</span>
        <span class="na">level</span><span class="pi">:</span> <span class="s">info</span>
    <span class="na">organization</span><span class="pi">:</span> <span class="s">org1.example.com</span>
    <span class="na">tlsCerts</span><span class="pi">:</span>
        <span class="na">client</span><span class="pi">:</span>
            <span class="na">cert</span><span class="pi">:</span>
                <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/cert.pem</span>
            <span class="na">key</span><span class="pi">:</span>
                <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/keystore/FILL_IN_KEY_NAME_HERE</span>
<span class="na">orderers</span><span class="pi">:</span>
    <span class="na">fabric_orderer</span><span class="pi">:</span>
        <span class="na">tlsCACerts</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/tlscacerts/tls-localhost-9054-ca-orderer.pem</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">grpcs://orderer.example.com:7050</span>
<span class="na">organizations</span><span class="pi">:</span>
    <span class="s">org1.example.com</span><span class="pi">:</span>
        <span class="na">certificateAuthorities</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">org1.example.com</span>
        <span class="na">cryptoPath</span><span class="pi">:</span> <span class="s">/tmp/msp</span>
        <span class="na">mspid</span><span class="pi">:</span> <span class="s">Org1MSP</span>
        <span class="na">peers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">fabric_peer</span>
<span class="na">peers</span><span class="pi">:</span>
    <span class="na">fabric_peer</span><span class="pi">:</span>
        <span class="na">tlsCACerts</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/tlscacerts/tls-localhost-7054-ca-org1.pem</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">grpcs://peer0.org1.example.com:7051</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">1.1.0%</span>
</code></pre></div></div>
      <h3 id="organization-2-connection-profile">
        
        
          <a href="#organization-2-connection-profile" class="anchor-heading" aria-labelledby="organization-2-connection-profile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Organization 2 connection profile
        
        
      </h3>
    

<p>Create a new file at <code class="language-plaintext highlighter-rouge">~/org2_ccp.yml</code> with the contents below. Replace the string <code class="language-plaintext highlighter-rouge">FILL_IN_KEY_NAME_HERE</code> with the filename in your <code class="language-plaintext highlighter-rouge">fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/keystore</code> directory.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">certificateAuthorities</span><span class="pi">:</span>
    <span class="s">org2.example.com</span><span class="pi">:</span>
        <span class="na">tlsCACerts</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/msp/tlscacerts/ca.crt</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://ca_org2:8054</span>
        <span class="na">grpcOptions</span><span class="pi">:</span>
            <span class="na">ssl-target-name-override</span><span class="pi">:</span> <span class="s">org2.example.com</span>
        <span class="na">registrar</span><span class="pi">:</span>
            <span class="na">enrollId</span><span class="pi">:</span> <span class="s">admin</span>
            <span class="na">enrollSecret</span><span class="pi">:</span> <span class="s">adminpw</span>
<span class="na">channels</span><span class="pi">:</span>
    <span class="na">mychannel</span><span class="pi">:</span>
        <span class="na">orderers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">fabric_orderer</span>
        <span class="na">peers</span><span class="pi">:</span>
            <span class="na">fabric_peer</span><span class="pi">:</span>
                <span class="na">chaincodeQuery</span><span class="pi">:</span> <span class="no">true</span>
                <span class="na">endorsingPeer</span><span class="pi">:</span> <span class="no">true</span>
                <span class="na">eventSource</span><span class="pi">:</span> <span class="no">true</span>
                <span class="na">ledgerQuery</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">client</span><span class="pi">:</span>
    <span class="na">BCCSP</span><span class="pi">:</span>
        <span class="na">security</span><span class="pi">:</span>
            <span class="na">default</span><span class="pi">:</span>
                <span class="na">provider</span><span class="pi">:</span> <span class="s">SW</span>
            <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
            <span class="na">hashAlgorithm</span><span class="pi">:</span> <span class="s">SHA2</span>
            <span class="na">level</span><span class="pi">:</span> <span class="m">256</span>
            <span class="na">softVerify</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">credentialStore</span><span class="pi">:</span>
        <span class="na">cryptoStore</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/msp</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/msp</span>
    <span class="na">cryptoconfig</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/msp</span>
    <span class="na">logging</span><span class="pi">:</span>
        <span class="na">level</span><span class="pi">:</span> <span class="s">info</span>
    <span class="na">organization</span><span class="pi">:</span> <span class="s">org2.example.com</span>
    <span class="na">tlsCerts</span><span class="pi">:</span>
        <span class="na">client</span><span class="pi">:</span>
            <span class="na">cert</span><span class="pi">:</span>
                <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/signcerts/cert.pem</span>
            <span class="na">key</span><span class="pi">:</span>
                <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/keystore/FILL_IN_KEY_NAME_HERE</span>
<span class="na">orderers</span><span class="pi">:</span>
    <span class="na">fabric_orderer</span><span class="pi">:</span>
        <span class="na">tlsCACerts</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/tlscacerts/tls-localhost-9054-ca-orderer.pem</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">grpcs://orderer.example.com:7050</span>
<span class="na">organizations</span><span class="pi">:</span>
    <span class="s">org2.example.com</span><span class="pi">:</span>
        <span class="na">certificateAuthorities</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">org2.example.com</span>
        <span class="na">cryptoPath</span><span class="pi">:</span> <span class="s">/tmp/msp</span>
        <span class="na">mspid</span><span class="pi">:</span> <span class="s">Org2MSP</span>
        <span class="na">peers</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">fabric_peer</span>
<span class="na">peers</span><span class="pi">:</span>
    <span class="na">fabric_peer</span><span class="pi">:</span>
        <span class="na">tlsCACerts</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/etc/firefly/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/tlscacerts/tls-localhost-8054-ca-org2.pem</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">grpcs://peer0.org2.example.com:9051</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">1.1.0%</span>
</code></pre></div></div>
      <h2 id="create-the-firefly-stack">
        
        
          <a href="#create-the-firefly-stack" class="anchor-heading" aria-labelledby="create-the-firefly-stack"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create the FireFly stack
        
        
      </h2>
    

<p>Now we can create a FireFly stack and pass in these files as command line flags.</p>

<blockquote>
  <p><strong>NOTE</strong>: The following command should be run in the <code class="language-plaintext highlighter-rouge">test-network</code> directory as it includes a relative path to the <code class="language-plaintext highlighter-rouge">organizations</code> directory containing each org’s MSP.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ff init fabric dev \
  --ccp "${HOME}/org1_ccp.yml" \
  --msp "organizations" \
  --ccp "${HOME}/org2_ccp.yml" \
  --msp "organizations" \
  --channel mychannel \
  --chaincode firefly
</code></pre></div></div>
      <h2 id="edit-docker-composeoverrideyml">
        
        
          <a href="#edit-docker-composeoverrideyml" class="anchor-heading" aria-labelledby="edit-docker-composeoverrideyml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Edit <code class="language-plaintext highlighter-rouge">docker-compose.override.yml</code>
        
        
      </h2>
    

<p>The last step before starting up FireFly is to make sure that our FireFly containers have networking access to the Fabric containers. Because these are in two different Docker Compose networks by default, normally the containers would not be able to connect directly. We can fix this by instructing Docker to also attach our FireFly containers to the Fabric test network Docker Compose network. The easiest way to do that is to edit <code class="language-plaintext highlighter-rouge">~/.firefly/stacks/dev/docker-compose.override.yml</code> and set its contents to the following:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Add custom config overrides here</span>
<span class="c1"># See https://docs.docker.com/compose/extends</span>
<span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2.1"</span>
<span class="na">networks</span><span class="pi">:</span>
  <span class="na">default</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">fabric_test</span>
    <span class="na">external</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>
      <h2 id="start-firefly-stack">
        
        
          <a href="#start-firefly-stack" class="anchor-heading" aria-labelledby="start-firefly-stack"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Start FireFly stack
        
        
      </h2>
    

<p>Now we can start up FireFly!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ff start dev
</code></pre></div></div>

<p>After everything starts up, you should have two FireFly nodes that are each mapped to an Organization in your Fabric network. You can that they each use separate signing keys for their Org on messages that each FireFly node sends.</p>
      <h2 id="connecting-to-a-remote-fabric-network">
        
        
          <a href="#connecting-to-a-remote-fabric-network" class="anchor-heading" aria-labelledby="connecting-to-a-remote-fabric-network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connecting to a remote Fabric Network
        
        
      </h2>
    

<p>This same guide can be adapted to connect to a remote Fabric network running somewhere else. They key takeaways are:</p>

<ul>
  <li>You need the FireFly chaincode deployed on channel in your Fabric network</li>
  <li>You need to pass the channel and chaincode name when you run <code class="language-plaintext highlighter-rouge">ff init</code></li>
  <li>You need to provide a connection profile and the correct certs, keys, etc. for each node when you run <code class="language-plaintext highlighter-rouge">ff init</code></li>
  <li>Your FireFly containers will need to have network access to your Fabric network</li>
</ul>
      <h2 id="troubleshooting">
        
        
          <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting
        
        
      </h2>
    

<p>There are quite a few moving parts in this guide and if steps are missed or done out of order it can cause problems. Below are some of the common situations that you might run into while following this guide, and solutions for each.</p>

<p>You may see a message something along the lines of:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: for firefly_core_0  Container "bc04521372aa" is unhealthy.
Encountered errors while bringing up the project.
</code></pre></div></div>

<p>In this case, we need to look at the container logs to get more detail about what happened. To do this, we can run <code class="language-plaintext highlighter-rouge">ff start</code> and tell it not to clean up the stack after the failure, to let you inspect what went wrong. To do that, you can run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ff start dev --verbose --no-rollback
</code></pre></div></div>

<p>Then we could run <code class="language-plaintext highlighter-rouge">docker logs &lt;container_name&gt;</code> to see the logs for that container.</p>
      <h3 id="no-such-host">
        
        
          <a href="#no-such-host" class="anchor-heading" aria-labelledby="no-such-host"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> No such host
        
        
      </h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error: http://127.0.0.1:5102/identities [500] {"error":"enroll failed: enroll failed: POST failure of request: POST https://ca_org1:7054/enroll\n{\"hosts\":null,\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIH0MIGcAgEAMBAxDjAMBgNVBAMTBWFkbWluMFkwEwYHKoZIzj0CAQYIKoZIzj0D\\nAQcDQgAE7qJZ5nGt/kxU9IvrEb7EmgNIgn9xXoQUJLl1+U9nXdWB9cnxcmoitnvy\\nYN63kbBuUh0z21vOmO8GLD3QxaRaD6AqMCgGCSqGSIb3DQEJDjEbMBkwFwYDVR0R\\nBBAwDoIMMGQ4NGJhZWIwZGY0MAoGCCqGSM49BAMCA0cAMEQCIBcWb127dVxm/80K\\nB2LtenAY/Jtb2FbZczolrXNCKq+LAiAcGEJ6Mx8LVaPzuSP4uGpEoty6+bEErc5r\\nHVER+0aXiQ==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"ReturnPrecert\":false,\"CAName\":\"\"}: Post \"https://ca_org1:7054/enroll\": dial tcp: lookup ca_org1 on 127.0.0.11:53: no such host"}
</code></pre></div></div>

<p>If you see something in your logs that looks like the above, there could be a couple issues:</p>

<ol>
  <li>The hostname for one of your Fabric containers could be wrong in the <code class="language-plaintext highlighter-rouge">ccp.yml</code>. Check the <code class="language-plaintext highlighter-rouge">ccp.yml</code> for that member and make sure the hostnames are correct.</li>
  <li>The FireFly container doesn’t have networking connectivity to the Fabric containers. Check the <code class="language-plaintext highlighter-rouge">docker-compose.override.yml</code> file to make sure you added the <code class="language-plaintext highlighter-rouge">fabric_test</code> network as instructed above.</li>
</ol>
      <h3 id="no-such-file-or-directory">
        
        
          <a href="#no-such-file-or-directory" class="anchor-heading" aria-labelledby="no-such-file-or-directory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> No such file or directory
        
        
      </h3>
    

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User credentials store creation failed. Failed to load identity configurations: failed to create identity config from backends: failed to load client TLSConfig : failed to load client key: failed to load pem bytes from path /etc/firefly/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/keystore/cfc50311e2204f232cfdfaf4eba7731279f2366ec291ca1c1781e2bf7bc75529_sk: open /etc/firefly/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/keystore/cfc50311e2204f232cfdfaf4eba7731279f2366ec291ca1c1781e2bf7bc75529_sk: no such file or directory
</code></pre></div></div>

<p>If you see something in your logs that looks like the above, it’s likely that your private key file name is not correct in your <code class="language-plaintext highlighter-rouge">ccp.yml</code> file for that particular member. Check your <code class="language-plaintext highlighter-rouge">ccp.yml</code> and make sure all the files listed there exist in your <code class="language-plaintext highlighter-rouge">organizations</code> directory.</p>

        

        

        
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
  <script>
    getVersions("en")
  </script>
</body>
</html>
